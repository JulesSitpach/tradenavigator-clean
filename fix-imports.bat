@echo off
echo ?? Fixing ALL MainLayout imports...
node -e "const fs=require('fs');const path=require('path');function getAllTsFiles(dir,fileList=[]){const files=fs.readdirSync(dir);files.forEach(file=>{const filePath=path.join(dir,file);const stat=fs.statSync(filePath);if(stat.isDirectory()){getAllTsFiles(filePath,fileList);}else if(file.endsWith('.tsx')||file.endsWith('.ts')){fileList.push(filePath);}});return fileList;}function getCorrectPath(filePath){const relativePath=path.relative('client/src',filePath);const pathParts=relativePath.split(path.sep);pathParts.pop();const levelsUp=pathParts.length;const upPath='../'.repeat(levelsUp);return upPath+'components/layouts/MainLayout';}const allFiles=getAllTsFiles('client/src');const filesToFix=allFiles.filter(filePath=>{try{const content=fs.readFileSync(filePath,'utf8');return content.includes('MainLayout')&&content.includes('import');}catch(error){return false;}});console.log('Found '+filesToFix.length+' files to fix');filesToFix.forEach(filePath=>{try{let content=fs.readFileSync(filePath,'utf8');const correctPath=getCorrectPath(filePath);const updated=content.replace(/import.*MainLayout.*from\s+['\x22][^'\x22]*['\x22];?/g,'import MainLayout from \x27'+correctPath+'\x27;');fs.writeFileSync(filePath,updated);console.log('Fixed '+filePath);}catch(error){console.error('Error fixing '+filePath+':',error.message);}});console.log('? All imports fixed!');"
pause
